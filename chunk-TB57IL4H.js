import{A as f,B as y,F as C,J as u,K as e,L as n,M as k,Q as v,S as g,U as s,W as i,X as _,ca as x,da as b,ka as I,la as O,ma as S,na as M,o as p,p as d,sa as P,ta as w,w as h,wa as E,x as c}from"./chunk-OWLGFOZO.js";function V(o,r){o&1&&(e(0,"div",3)(1,"p"),i(2,"Seu carrinho est\xE1 vazio."),n(),e(3,"a",4),i(4,"Voltar \xE0s compras"),n()())}function z(o,r){if(o&1){let t=v();e(0,"div",12),k(1,"img",13),e(2,"div",14)(3,"h3"),i(4),n(),e(5,"p",15),i(6),x(7,"currency"),n()(),e(8,"div",16)(9,"button",17),g("click",function(){let a=p(t).$implicit,l=s(2);return d(l.updateQty(a.id,a.qty-1))}),i(10,"-"),n(),e(11,"span"),i(12),n(),e(13,"button",17),g("click",function(){let a=p(t).$implicit,l=s(2);return d(l.updateQty(a.id,a.qty+1))}),i(14,"+"),n()(),e(15,"button",18),g("click",function(){let a=p(t).$implicit,l=s(2);return d(l.removeItem(a.id))}),i(16,"Remover"),n()()}if(o&2){let t=r.$implicit;c(),u("src",t.image,h)("alt",t.name),c(3),_(t.name),c(2),_(b(7,5,t.price,"BRL")),c(6),_(t.qty)}}function R(o,r){if(o&1){let t=v();e(0,"div",5)(1,"div",6),C(2,z,17,8,"div",7),n(),e(3,"div",8)(4,"h3"),i(5,"Resumo"),n(),e(6,"div",9)(7,"span"),i(8,"Total"),n(),e(9,"span",10),i(10),x(11,"currency"),n()(),e(12,"button",11),g("click",function(){p(t);let a=s();return d(a.irParaCheckout())}),i(13," Finalizar Compra "),n()()()}if(o&2){let t=s();c(2),u("ngForOf",t.cartItems),c(8),_(b(11,2,t.total,"BRL"))}}var T=class o{constructor(r,t){this.cartService=r;this.router=t}cartItems=[];total=0;ngOnInit(){this.cartService.cart$.subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.total=this.cartService.getTotal()}updateQty(r,t){this.cartService.updateQuantity(r,t)}removeItem(r){this.cartService.removeItem(r)}irParaCheckout(){if(this.cartItems.length===0){alert("Seu carrinho est\xE1 vazio! Adicione produtos antes de finalizar.");return}this.router.navigate(["/checkout"])}static \u0275fac=function(t){return new(t||o)(f(E),f(P))};static \u0275cmp=y({type:o,selectors:[["app-cart"]],decls:5,vars:2,consts:[[1,"cart-container"],["class","empty-cart",4,"ngIf"],["class","cart-content",4,"ngIf"],[1,"empty-cart"],["routerLink","/home",1,"btn-back"],[1,"cart-content"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-summary"],[1,"summary-row"],[1,"total-price"],[1,"btn-checkout",3,"click"],[1,"cart-item"],[3,"src","alt"],[1,"item-details"],[1,"price"],[1,"item-actions"],[3,"click"],[1,"btn-remove",3,"click"]],template:function(t,m){t&1&&(e(0,"section",0)(1,"h2"),i(2,"Meu Carrinho"),n(),C(3,V,5,0,"div",1)(4,R,14,5,"div",2),n()),t&2&&(c(3),u("ngIf",m.cartItems.length===0),c(),u("ngIf",m.cartItems.length>0))},dependencies:[M,I,O,w,S],styles:[".cart-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-weight:800;text-transform:uppercase}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 300px;gap:2rem}@media (max-width: 768px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#fff;padding:1rem;margin-bottom:1rem;border:1px solid #eee;border-radius:8px}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain}.item-details[_ngcontent-%COMP%]{flex:1}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem}.item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-right:1rem}.item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;background:#f0f0f0;border:none;border-radius:4px;cursor:pointer}.btn-remove[_ngcontent-%COMP%]{color:#dc2626;background:none;border:none;cursor:pointer;font-size:.9rem}.cart-summary[_ngcontent-%COMP%]{background:#f9f9f9;padding:1.5rem;border-radius:8px;height:fit-content}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem;font-size:1.2rem;font-weight:700}.btn-checkout[_ngcontent-%COMP%]{width:100%;background:#111;color:#fff;padding:1rem;border:none;font-weight:700;text-transform:uppercase;cursor:pointer;transition:background .2s}.btn-checkout[_ngcontent-%COMP%]:hover{background:#333}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:3rem}.btn-back[_ngcontent-%COMP%]{color:#111;font-weight:600}"]})};export{T as CartComponent};
